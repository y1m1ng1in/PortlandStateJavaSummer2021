REST APIs:
  - create an appt
  - search appt based on owner and begin time
  - serach appt based on owner

  - "owner":
    - id
    - username
    - password
    - email
    - address

  - "appointment"
    - ID
    - owner
    - description
    - begin time
    - end time

    -> "customized appointment"
      - ID
      - owner
      - description
      - begin time
      - end time
      - "fields"
        - field1 : content1
        - field2 : content2
          ...
        - fieldn : contentn

    -> "appointment with registered user"
      - ID
      - owner (the one who host the appt)
      - booker (the one, a registered user, who book the appt)
      - description
      - begin time
      - end time
      - "fields"
        - field1 : content1
        - field2 : content2
          ...
        - fieldn : contentn

  - "appointment template"
    - owner
    - ID
    - [ fields with empty content ]


Scheme:
  User (id*, username, password, email, address)
  Appointment (id*, ownerId, description, begin time, end time) 
    ownerId reference to User.id
  AppointmentDetail (apptId, order, fieldName, fieldContent)
    apptId reference to Appointment.id
  AppointmentWith (apptId, ownerId, bookerId)
    apptId reference to Appointment.id
    ownerId reference to User.id
    bookerId reference to User.id
  AppointmentTemplateMeta (id*, ownerId)
    ownerId reference to User.id
  AppointmentTemplate (templateId, fieldName, order, fieldtype?)
    templateId reference to AppointmentTemplateMeta.id




User creates an appointment 
  -> check if conflict with existing appointments
      -> if not
          -> check if overlapped with available slots
              -> if overlapped, remove slots covered
          -> create appt
      -> otherwise, fail


PublicBookableSlots:
  - username => array of slots, where slots are not overlapped
    slot = start time + end time

POST: /addPublicBookableSlots:
  - lowerbound: Date
  - upperbound: Date
  - duration: int of mintues
  - break: int of mintues

store as an array of non-overlapped interval:
  [lo_1, hi_1], [lo_2, hi_2], ..., [lo_n, hi_n]

create an appointment [lo, hi] overlapped with above intervals:
  within : [lo_i, hi_i] -> [lo_i, lo], [hi_i, hi]
  one_side: [lo_i, hi_i] -> [lo_i, lo], [hi, hi_i+c]